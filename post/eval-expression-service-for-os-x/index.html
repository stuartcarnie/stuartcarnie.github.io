<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Eval Expression service for OS X &middot; Stuart Carnie</title>

  
  <link rel="stylesheet" href="http://blog.stuartcarnie.com/css/poole.css">
  <link rel="stylesheet" href="http://blog.stuartcarnie.com/css/hyde.css">
  <link rel="stylesheet" href="http://blog.stuartcarnie.com/css/poole-overrides.css">
  <link rel="stylesheet" href="http://blog.stuartcarnie.com/css/hyde-overrides.css">
  <link rel="stylesheet" href="http://blog.stuartcarnie.com/css/hyde-x.css">
  <link rel="stylesheet" href="http://blog.stuartcarnie.com/css/highlight/zenburn.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://blog.stuartcarnie.com/touch-icon-144-precomposed.png">
  <link href="http://blog.stuartcarnie.com/favicon.png" rel="icon">

  
  
  
  

  <meta name="description" content="Mostly technical posts about OSX, iOS">
  <meta name="keywords" content="osx,ios,swift,games,emulators,mame">
  
</head>
<body class="theme-base-01">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      
      <h1>Stuart Carnie</h1>
      <p class="lead">some witty quote</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="http://blog.stuartcarnie.com/">Blog</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="https://github.com/stuartcarnie"><i class="fa fa-github-square fa-3x"></i></a>
      
      
      
      
      
      <a href="https://twitter.com/stuartcarnie"><i class="fa fa-twitter-square fa-3x"></i></a>
      
      
      </li>
    </ul>

    

    <p>Copyright &copy; 2016 <a href="http://blog.stuartcarnie.com/license/">License</a><br/>
       Powered by <a href="http://gohugo.io">Hugo</a> and <a href="https://github.com/zyro/hyde-x">Hyde-X</a></p>
  </div>
</div>


<div class="content container">
  <div class="post">
    <h1>Eval Expression service for OS X</h1>
    <span class="post-date">Apr 9, 2011 &middot; 2 minute read
    
    <br/>
    <a class="label" href="http://blog.stuartcarnie.com/categories/osx">osx</a><a class="label" href="http://blog.stuartcarnie.com/categories/utility">utility</a>
    </span>
    <p><strong>Eval Expression</strong> is a Mac OS X service to evaluate the selected text of any text field as a Ruby expression.  My instinct was to choose Perl, however Ruby offers binary in addition to decimal, hex and octal numerical literals.  The service becomes infinitely more useful if you assign it a global shortcut in Keyboard preferences.  In my case I assigned a combination that seemed obvious, ⌘=</p>

<p><img src="http://lh5.ggpht.com/_WTgxY9AxbJk/TaE1i0ngklI/AAAAAAAAAnU/yDUu3uOqs9Y/Keyboard%20preferences.png?imgmax=800" alt="Keyboard preferences" /></p>

<p>It came about as I was working on some layout in Xcode 4 / Interface Builder, and needed to adjust the Y position of a view by a specific number of units.  I&rsquo;m lazy, and figured the computer should do the work, so I typed 768-35 and tabbed out.  Unlike Acorn and Opacity, which evaluates the expression in numerical entries automatically, Xcode simply complained.  Not happy, I created this service and it works like a charm.  Some examples:</p>

<ul>
<li>768-35 ⌘= 733

<ul>
<li>calculator</li>
</ul></li>
<li>0b11010 ⌘= 26

<ul>
<li>conversion to decimal</li>
</ul></li>
<li>0x1f.to_s(2) ⌘= 11111

<ul>
<li>hex to binary</li>
</ul></li>
<li>2**3 ⌘= 8

<ul>
<li>exponent</li>
</ul></li>
<li>(0x8000 | 0xf1).to_s(16) ⌘= 80f1</li>
<li>&rdquo;-+&rdquo; * 5 ⌘= -+-+-+-+-+

<ul>
<li>expansion</li>
</ul></li>
<li>Array(1..15).join &lsquo;,&rsquo; ⌘= 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15

<ul>
<li>lists</li>
</ul></li>
</ul>

<p>Download the Automator zip file from <a href="https://github.com/downloads/scarnie/sgc_general/Eval%20Expression.zip">github</a>, unzip and install to your ~/Library/Services folder.</p>

<p>A quick video of the service in action (note that I&rsquo;m using my ⌘= shortcut to evaluate within Mars Edit):</p>

<p><object type="application/futuresplash" width="425" height="344"><param name="movie" value="http://www.youtube.com/v/K-gP9ToAPTU?hl=en&amp;fs=1"><param name="allowFullScreen" value="true"><param name="allowscriptaccess" value="always"><embed type="application/futuresplash" width="425" height="344" src="http://www.youtube.com/v/K-gP9ToAPTU?hl=en&amp;fs=1" allowscriptaccess="always" allowfullscreen="true"></object></p>

  </div>
  
</div>




<script src="http://blog.stuartcarnie.com/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>

